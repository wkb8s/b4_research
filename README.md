# b4_research
卒業論文用リポジトリ

## Title
プロセス状態遷移のログを利用したスケジューラのモニタリング

## Abstract
オペレーティングシステムにおけるスケジューラは, クラッシュやデッドロックのような明確な障害を伴わないため,
意図した通りに CPU 時間の割り当てが行われているかどうかを確認することが難しい.
実際, Linux 標準搭載のスケジューラであっても, いまだに不具合が報告されている.
本研究では, スケジューリングイベントが発生した際のプロセス状態を時系列順に記録することで,
各コアで実行されるプロセスの遷移をモニタリングする手法を提案する.
また, 教育用オペレーティングシステム xv6 において,
プロセス状態について収集したログを元にスケジューラの問題点の発見から公平性の改善を行うまでの一連の流れを示す.

## Implementation
### Scheduler
- 各コアごとに独立したスケジューラが動作するように改良
- Work Stealing の実装

### Logging
測定用に, ログをバッファに記録し出力するための 2 つのシステムコールを追加

### Workloads
測定時に実行するワークロードも実装
- CPU-intensive なタスク
- I/O-intensive なタスク
- 上記の混合タスク
- xv6 の fairness を崩すようなタスク
など

### VCPU pinning
各 VCPU が PCPU を専有することを保証するためのスクリプトを実装

### Visualize
測定データ分析用のスクリプトを実装
